/**
 * skylark-security-codec - The codec features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(r,e){var t=e.define,require=e.require,n="function"==typeof t&&t.amd,a=!n&&"undefined"!=typeof exports;if(!n&&!t){var o={};t=e.define=function(r,e,t){"function"==typeof t?(o[r]={factory:t,deps:e.map(function(e){return function(r,e){if("."!==r[0])return r;var t=e.split("/"),n=r.split("/");t.pop();for(var a=0;a<n.length;a++)"."!=n[a]&&(".."==n[a]?t.pop():t.push(n[a]));return t.join("/")}(e,r)}),resolved:!1,exports:null},require(r)):o[r]={factory:null,resolved:!0,exports:t}},require=e.require=function(r){if(!o.hasOwnProperty(r))throw new Error("Module "+r+" has not been defined");var module=o[r];if(!module.resolved){var t=[];module.deps.forEach(function(r){t.push(require(r))}),module.exports=module.factory.apply(e,t)||null,module.resolved=!0}return module.exports}}if(!t)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(r,require){r("skylark-security-codec/codec",["skylark-langx/skylark","skylark-langx/langx"],function(r,e){return r.attach("security.codec",{})}),r("skylark-security-codec/base64",["skylark-langx/langx","./codec"],function(r,e){var t=function(){return t},n="=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return t.encode=function(r){for(var e=[],t=r.length,o=t%3,c=t-o,u=0;u<c;){var s=r[u++]<<16|r[u++]<<8|r[u++];e.push(a.charAt(s>>>18&63)),e.push(a.charAt(s>>>12&63)),e.push(a.charAt(s>>>6&63)),e.push(a.charAt(63&s))}switch(o){case 2:var s=r[u++]<<16|r[u++]<<8;e.push(a.charAt(s>>>18&63)),e.push(a.charAt(s>>>12&63)),e.push(a.charAt(s>>>6&63)),e.push(n);break;case 1:var s=r[u++]<<16;e.push(a.charAt(s>>>18&63)),e.push(a.charAt(s>>>12&63)),e.push(n),e.push(n)}return e.join("")},t.decode=function(r){for(var e=r.split(""),t=[],o=e.length;e[--o]==n;);for(var c=0;c<o;){var u=a.indexOf(e[c++])<<18;c<=o&&(u|=a.indexOf(e[c++])<<12),c<=o&&(u|=a.indexOf(e[c++])<<6),c<=o&&(u|=a.indexOf(e[c++])),t.push(u>>>16&255),t.push(u>>>8&255),t.push(255&u)}for(;0==t[t.length-1];)t.pop();return t},t.isBase64=function(r){if("string"!=typeof r)return!1;if(r.startsWith("data:"))return!0;for(var e=0;e<r.length;e++)if(!a.includes(r.charAt(e)))return!1;return!0},t.removeHeader=function(r){return r.slice(r.search(";base64,")+8)},t.getFileFormat=function(r){var e=r.indexOf("/")+1,t=r.indexOf(";");return r.substr(e,t-e)},t.fromArraybuffer=function(r){for(var e,t="",n=new Uint8Array(r),o=n.byteLength%3,c=n.byteLength-o,u=0;u<c;u+=3)e=n[u]<<16|n[u+1]<<8|n[u+2],t+=a[(16515072&e)>>18]+a[(258048&e)>>12]+a[(4032&e)>>6]+a[63&e];return 1===o?(e=n[c],t+=a[(252&e)>>2]+a[(3&e)<<4]+"=="):2===o&&(e=n[c]<<8|n[c+1],t+=a[(64512&e)>>10]+a[(1008&e)>>4]+a[(15&e)<<2]+"="),t},t.fromBinaryString=function(r){for(var e,t,n,o="",c=r.length%3,u=r.length-c,s=0;s<u;s+=3)e=255&r.charCodeAt(s),t=r.charCodeAt(s+1),n=r.charCodeAt(s+2),o+=a.charAt(e>>2),o+=a.charAt((3&e)<<4|(240&t)>>4),o+=a.charAt((15&t)<<2|(192&n)>>6),o+=a.charAt(63&n);return 1===c?(e=255&r.charCodeAt(s),o+=a.charAt(e>>2),o+=a.charAt((3&e)<<4),o+="=="):2===c&&(e=255&r.charCodeAt(s),t=r.charCodeAt(s+1),o+=a.charAt(e>>2),o+=a.charAt((3&e)<<4|(240&t)>>4),o+=a.charAt((15&t)<<2),o+="="),o},e.base64=t}),r("skylark-security-codec/main",["./codec","./base64"],function(r){return r}),r("skylark-security-codec",["skylark-security-codec/main"],function(r){return r})}(t),!n){var c=require("skylark-langx-ns");a?module.exports=c:e.skylarkjs=c}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-security-codec.js.map
