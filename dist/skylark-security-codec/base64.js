/**
 * skylark-security-codec - The codec features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","./codec"],function(r,t){var e=function(){return e},n="=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return e.encode=function(r){for(var t=[],e=r.length,h=e%3,c=e-h,u=0;u<c;){var o=r[u++]<<16|r[u++]<<8|r[u++];t.push(a.charAt(o>>>18&63)),t.push(a.charAt(o>>>12&63)),t.push(a.charAt(o>>>6&63)),t.push(a.charAt(63&o))}switch(h){case 2:o=r[u++]<<16|r[u++]<<8;t.push(a.charAt(o>>>18&63)),t.push(a.charAt(o>>>12&63)),t.push(a.charAt(o>>>6&63)),t.push(n);break;case 1:o=r[u++]<<16;t.push(a.charAt(o>>>18&63)),t.push(a.charAt(o>>>12&63)),t.push(n),t.push(n)}return t.join("")},e.decode=function(r){for(var t=r.split(""),e=[],h=t.length;t[--h]==n;);for(var c=0;c<h;){var u=a.indexOf(t[c++])<<18;c<=h&&(u|=a.indexOf(t[c++])<<12),c<=h&&(u|=a.indexOf(t[c++])<<6),c<=h&&(u|=a.indexOf(t[c++])),e.push(u>>>16&255),e.push(u>>>8&255),e.push(255&u)}for(;0==e[e.length-1];)e.pop();return e},e.isBase64=function(r){if("string"!=typeof r)return!1;if(r.startsWith("data:"))return!0;for(var t=0;t<r.length;t++)if(!a.includes(r.charAt(t)))return!1;return!0},e.removeHeader=function(r){return r.slice(r.search(";base64,")+8)},e.getFileFormat=function(r){var t=r.indexOf("/")+1,e=r.indexOf(";");return r.substr(t,e-t)},e.fromArraybuffer=function(r){for(var t,e="",n=new Uint8Array(r),h=n.byteLength%3,c=n.byteLength-h,u=0;u<c;u+=3)t=n[u]<<16|n[u+1]<<8|n[u+2],e+=a[(16515072&t)>>18]+a[(258048&t)>>12]+a[(4032&t)>>6]+a[63&t];return 1===h?(t=n[c],e+=a[(252&t)>>2]+a[(3&t)<<4]+"=="):2===h&&(t=n[c]<<8|n[c+1],e+=a[(64512&t)>>10]+a[(1008&t)>>4]+a[(15&t)<<2]+"="),e},e.fromBinaryString=function(r){for(var t,e,n,h="",c=r.length%3,u=r.length-c,o=0;o<u;o+=3)t=255&r.charCodeAt(o),e=r.charCodeAt(o+1),n=r.charCodeAt(o+2),h+=a.charAt(t>>2),h+=a.charAt((3&t)<<4|(240&e)>>4),h+=a.charAt((15&e)<<2|(192&n)>>6),h+=a.charAt(63&n);return 1===c?(t=255&r.charCodeAt(o),h+=a.charAt(t>>2),h+=a.charAt((3&t)<<4),h+="=="):2===c&&(t=255&r.charCodeAt(o),e=r.charCodeAt(o+1),h+=a.charAt(t>>2),h+=a.charAt((3&t)<<4|(240&e)>>4),h+=a.charAt((15&e)<<2),h+="="),h},t.base64=e});
//# sourceMappingURL=sourcemaps/base64.js.map
