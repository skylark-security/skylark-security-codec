{"version":3,"sources":["base64.js"],"names":["define","langx","codec","base64","p","tab","encode","ba","s","l","length","rm","x","i","t","push","charAt","join","decode","str","split","out","indexOf","pop"],"mappings":";;;;;;;AAAAA,QACI,sBACA,WACD,SAASC,EAAMC,GAEd,IAAIC,EAAS,WACT,OAAOA,GAGVC,EAAE,IACFC,EAAI,mEAyDL,OAvDHF,EAAOG,OAAO,SAAqBC,GAMlC,IAHA,IAAIC,KAAMC,EAAEF,EAAGG,OACXC,EAAGF,EAAE,EACLG,EAAEH,EAAEE,EACCE,EAAE,EAAGA,EAAED,GAAG,CAClB,IAAIE,EAAEP,EAAGM,MAAM,GAAGN,EAAGM,MAAM,EAAEN,EAAGM,KAChCL,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,EAAG,KAC1BN,EAAEO,KAAKV,EAAIW,OAAS,GAAFF,IAGnB,OAAOH,GACN,KAAK,EACAG,EAAEP,EAAGM,MAAM,GAAGN,EAAGM,MAAM,EAC3BL,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,EAAG,KAC1BN,EAAEO,KAAKX,GACP,MAED,KAAK,EACAU,EAAEP,EAAGM,MAAM,GACfL,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKV,EAAIW,OAAQF,IAAI,GAAI,KAC3BN,EAAEO,KAAKX,GACPI,EAAEO,KAAKX,GAIT,OAAOI,EAAES,KAAK,KAGfd,EAAOe,OAAO,SAAqBC,GAKlC,IAFA,IAAIX,EAAEW,EAAIC,MAAM,IAAKC,KACjBZ,EAAED,EAAEE,OACFF,IAAIC,IAAIL,IACd,IAAK,IAAIS,EAAE,EAAGA,EAAEJ,GAAG,CAClB,IAAIK,EAAET,EAAIiB,QAAQd,EAAEK,OAAO,GACxBA,GAAGJ,IAAIK,GAAGT,EAAIiB,QAAQd,EAAEK,OAAO,IAC/BA,GAAGJ,IAAIK,GAAGT,EAAIiB,QAAQd,EAAEK,OAAO,GAC/BA,GAAGJ,IAAIK,GAAGT,EAAIiB,QAAQd,EAAEK,OAC3BQ,EAAIN,KAAMD,IAAI,GAAI,KAClBO,EAAIN,KAAMD,IAAI,EAAG,KACjBO,EAAIN,KAAO,IAAFD,GAGV,KAAyB,GAAnBO,EAAIA,EAAIX,OAAO,IAAQW,EAAIE,MACjC,OAAOF,GAGEnB,EAAMC,OAASA","file":"../base64.js","sourcesContent":["define([\r\n    \"skylark-langx/langx\",\r\n    \"./codec\"\r\n], function(langx,codec) {\r\n\r\n    var base64 = function() {\r\n        return base64;\r\n    }\r\n\r\n\tvar p=\"=\";\r\n\tvar tab=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n\r\n\tbase64.encode=function(/* byte[] */ba){\r\n\t\t// summary:\r\n\t\t//\t\tEncode an array of bytes as a base64-encoded string\r\n\t\tvar s=[], l=ba.length;\r\n\t\tvar rm=l%3;\r\n\t\tvar x=l-rm;\r\n\t\tfor (var i=0; i<x;){\r\n\t\t\tvar t=ba[i++]<<16|ba[i++]<<8|ba[i++];\r\n\t\t\ts.push(tab.charAt((t>>>18)&0x3f));\r\n\t\t\ts.push(tab.charAt((t>>>12)&0x3f));\r\n\t\t\ts.push(tab.charAt((t>>>6)&0x3f));\r\n\t\t\ts.push(tab.charAt(t&0x3f));\r\n\t\t}\r\n\t\t//\tdeal with trailers, based on patch from Peter Wood.\r\n\t\tswitch(rm){\r\n\t\t\tcase 2:{\r\n\t\t\t\tvar t=ba[i++]<<16|ba[i++]<<8;\r\n\t\t\t\ts.push(tab.charAt((t>>>18)&0x3f));\r\n\t\t\t\ts.push(tab.charAt((t>>>12)&0x3f));\r\n\t\t\t\ts.push(tab.charAt((t>>>6)&0x3f));\r\n\t\t\t\ts.push(p);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1:{\r\n\t\t\t\tvar t=ba[i++]<<16;\r\n\t\t\t\ts.push(tab.charAt((t>>>18)&0x3f));\r\n\t\t\t\ts.push(tab.charAt((t>>>12)&0x3f));\r\n\t\t\t\ts.push(p);\r\n\t\t\t\ts.push(p);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s.join(\"\");\t//\tstring\r\n\t};\r\n\r\n\tbase64.decode=function(/* string */str){\r\n\t\t// summary:\r\n\t\t//\t\tConvert a base64-encoded string to an array of bytes\r\n\t\tvar s=str.split(\"\"), out=[];\r\n\t\tvar l=s.length;\r\n\t\twhile(s[--l]==p){ }\t//\tstrip off trailing padding\r\n\t\tfor (var i=0; i<l;){\r\n\t\t\tvar t=tab.indexOf(s[i++])<<18;\r\n\t\t\tif(i<=l){ t|=tab.indexOf(s[i++])<<12 };\r\n\t\t\tif(i<=l){ t|=tab.indexOf(s[i++])<<6 };\r\n\t\t\tif(i<=l){ t|=tab.indexOf(s[i++]) };\r\n\t\t\tout.push((t>>>16)&0xff);\r\n\t\t\tout.push((t>>>8)&0xff);\r\n\t\t\tout.push(t&0xff);\r\n\t\t}\r\n\t\t//\tstrip off any null bytes\r\n\t\twhile(out[out.length-1]==0){ out.pop(); }\r\n\t\treturn out;\t//\tbyte[]\r\n\t};\r\n\r\n    return codec.base64 = base64;\r\n});\r\n"]}